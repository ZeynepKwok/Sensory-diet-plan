<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Sensory Diet Plan</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }

        .sidebar {
            width: 240px;
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            background-color: #4CAF50;
            padding-top: 20px;
        }

        .sidebar nav a {
            display: block;
            color: white;
            padding: 16px;
            text-decoration: none;
            font-size: 18px;
            text-align: center;
        }

        .sidebar nav a:hover {
            background-color: #45a049;
        }

        .container {
            margin-left: 260px;
            padding: 20px;
        }

        .generated-plan {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: #f9f9f9;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .plan-entry {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 5px;
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .plan-entry h3 {
            font-size: 16px;
            margin-bottom: 5px;
            color: #333;
        }

        .plan-entry p {
            margin: 0;
            color: #555;
            font-size: 14px;
        }

        .plan-entry .mood {
            font-weight: bold;
            color: #4caf50;
        }

        .plan-entry .notes {
            margin-top: 5px;
            font-style: italic;
            color: #777;
        }

        .plan-date {
            font-size: 18px;
            color: #333;
            margin-bottom: 20px;
        }

        .popup {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .popup-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        #close-popup {
            background-color: #4caf50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        #close-popup:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <nav>
            <a href="index.html">Home</a>
            <a href="happening.html">What Is Happening?</a>
            <a href="why.html">Why Does This Happen?</a>
            <a href="support.html">What Should I Do?</a>
            <a href="sensory-diet.html">What Is a Sensory Diet Plan?</a>
            <a href="create-plan.html" class="active">Create My Sensory Diet Plan</a>
            <a href="resources.html">Need More Information?</a>
        </nav>
    </div>

    <div class="container">
        <h1>Sensory Diet Plan Generator</h1>
        <div class="watermark">By Zeynep Kwok and Alessia Samperi</div>

        <div class="info-section">
            <h2>Your Sensory Diet Plan</h2>
            <p>Use the Sensory Diet Plan Generator to create a customised plan for your child. </p>
            <table class="sensory-plan-table">
                <thead>
                    <tr>
                        <th>Time of Day</th>
                        <th>Activity</th>
                        <th>Length of Time (minutes)</th>
                        <th>Child’s Mood Before Activity</th>
                        <th>Child’s Mood After Activity</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Waking Up -->
                    <tr>
                        <td>Waking up</td>
                        <td>
                            <select id="activity-wake" onchange="toggleCustomActivity('wake')">
                                <option value="Rolling on Peanut Ball">Rolling on Peanut Ball</option>
                                <option value="Swinging">Swinging</option>
                                <option value="Trampoline Jumping">Trampoline Jumping</option>
                                <option value="Custom">Custom...</option>
                            </select>
                            <input type="text" class="custom-activity-input" id="custom-activity-wake" placeholder="Enter custom activity" style="display:none;">
                        </td>
                        <td>
                            <select id="time-wake">
                                <option value="5">5 mins</option>
                                <option value="10">10 mins</option>
                                <option value="Custom">Custom...</option>
                            </select>
                            <input type="number" id="custom-time-wake" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                        </td>
                        <td><select id="mood-before-wake"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                        <td><select id="mood-after-wake"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                        <td><input type="text" id="notes-wake" class="notes-input" placeholder="Notes"></td>
                    </tr>
                  <!-- Mid Morning -->
                  <tr>
                    <td>Mid morning</td>
                    <td>
                        <select id="activity-morning" onchange="toggleCustomActivity('morning')">
                            <option value="Play with Playdough">Play with Playdough</option>
                            <option value="Finger Painting">Finger Painting</option>
                            <option value="Sensory Bin with Rice">Sensory Bin with Rice</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-morning" placeholder="Enter custom activity" style="display:none;">
                    </td>
                    <td>
                        <select id="time-morning">
                            <option value="5">5 mins</option>
                            <option value="10">10 mins</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="number" id="custom-time-morning" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                    </td>
                    <td><select id="mood-before-morning"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><select id="mood-after-morning"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><input type="text" id="notes-morning" class="notes-input" placeholder="Notes"></td>
                </tr>

                <!-- Before Lunch -->
                <tr>
                    <td>Before lunch</td>
                    <td>
                        <select id="activity-lunch" onchange="toggleCustomActivity('lunch')">
                            <option value="Obstacle Course">Obstacle Course</option>
                            <option value="Yoga">Yoga</option>
                            <option value="Water Play">Water Play</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-lunch" placeholder="Enter custom activity" style="display:none;">
                    </td>
                    <td>
                        <select id="time-lunch">
                            <option value="5">5 mins</option>
                            <option value="10">10 mins</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="number" id="custom-time-lunch" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                    </td>
                    <td><select id="mood-before-lunch"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><select id="mood-after-lunch"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><input type="text" id="notes-lunch" class="notes-input" placeholder="Notes"></td>
                </tr>

                <!-- After Lunch -->
                <tr>
                    <td>After lunch</td>
                    <td>
                        <select id="activity-after-lunch" onchange="toggleCustomActivity('after-lunch')">
                            <option value="Obstacle Course">Obstacle Course</option>
                            <option value="Yoga">Yoga</option>
                            <option value="Water Play">Water Play</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-after-lunch" placeholder="Enter custom activity" style="display:none;">
                    </td>
                    <td>
                        <select id="time-after-lunch">
                            <option value="5">5 mins</option>
                            <option value="10">10 mins</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="number" id="custom-time-after-lunch" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                    </td>
                    <td><select id="mood-before-after-lunch"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><select id="mood-after-after-lunch"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><input type="text" id="notes-after-lunch" class="notes-input" placeholder="Notes"></td>
                </tr>

                <!-- Before Dinner -->
                <tr>
                    <td>Before dinner</td>
                    <td>
                        <select id="activity-before-dinner" onchange="toggleCustomActivity('before-dinner')">
                            <option value="Obstacle Course">Obstacle Course</option>
                            <option value="Yoga">Yoga</option>
                            <option value="Water Play">Water Play</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-before-dinner" placeholder="Enter custom activity" style="display:none;">
                    </td>
                    <td>
                        <select id="time-before-dinner">
                            <option value="5">5 mins</option>
                            <option value="10">10 mins</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="number" id="custom-time-before-dinner" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                    </td>
                    <td><select id="mood-before-before-dinner"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><select id="mood-after-before-dinner"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><input type="text" id="notes-before-dinner" class="notes-input" placeholder="Notes"></td>
                </tr>

                <!-- After Dinner -->
                <tr>
                    <td>After dinner</td>
                    <td>
                        <select id="activity-after-dinner" onchange="toggleCustomActivity('after-dinner')">
                            <option value="Obstacle Course">Obstacle Course</option>
                            <option value="Yoga">Yoga</option>
                            <option value="Water Play">Water Play</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-after-dinner" placeholder="Enter custom activity" style="display:none;">
                    </td>
                    <td>
                        <select id="time-after-dinner">
                            <option value="5">5 mins</option>
                            <option value="10">10 mins</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="number" id="custom-time-after-dinner" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                    </td>
                    <td><select id="mood-before-after-dinner"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><select id="mood-after-after-dinner"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><input type="text" id="notes-after-dinner" class="notes-input" placeholder="Notes"></td>
                </tr>

                <!-- Before Sleep -->
                <tr>
                    <td>Before sleep</td>
                    <td>
                        <select id="activity-sleep" onchange="toggleCustomActivity('sleep')">
                            <option value="Obstacle Course">Obstacle Course</option>
                            <option value="Yoga">Yoga</option>
                            <option value="Water Play">Water Play</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-sleep" placeholder="Enter custom activity" style="display:none;">
                    </td>
                    <td>
                        <select id="time-sleep">
                            <option value="5">5 mins</option>
                            <option value="10">10 mins</option>
                            <option value="Custom">Custom...</option>
                        </select>
                        <input type="number" id="custom-time-sleep" class="custom-time-input" placeholder="Enter custom time in minutes" style="display:none;">
                    </td>
                    <td><select id="mood-before-sleep"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><select id="mood-after-sleep"><option value="Positive">Positive</option><option value="Calm">Calm</option><option value="Negative">Negative</option></select></td>
                    <td><input type="text" id="notes-sleep" class="notes-input" placeholder="Notes"></td>
                </tr>
                </tbody>
            </table>
            <button type="button" onclick="generatePlan()">Generate Plan</button>
            <button type="button" onclick="exportPlan()">Export Plan</button>

            <div id="result" class="generated-plan"></div>
        </div>

        <!-- Disclaimer Popup -->
        <div id="disclaimer-popup" class="popup">
            <div class="popup-content">
                <p>This website is designed to provide educational resources and assistive tools for caregivers and individuals working with children who have Autism Spectrum Disorder (ASD). While we strive to provide accurate and helpful information, the resources provided here are not intended to replace professional advice or consultation. Users should consult with a qualified professional for personalized guidance and support.<br> 本網站旨在為看護者和與為患有自閉症譜系障礙 (ASD) 的兒童的治療師提供教育資源和輔助工具。雖然我們努力提供準確且有用的信息，但此處提供的資源並不適合替代專業建議或諮詢。用戶應諮詢合格的專業人士以獲取個性化指導和建議。</p>
                <button id="close-popup" onclick="closePopup()">I Understand <br> 我明白了 </button>
            </div>
        </div>
    </div>

    <script>
        // Handle custom activity inputs
        function toggleCustomActivity(timePeriod) {
            const activitySelect = document.getElementById(`activity-${timePeriod}`);
            const customActivityInput = document.getElementById(`custom-activity-${timePeriod}`);
            customActivityInput.style.display = activitySelect.value === "Custom" ? "block" : "none";
        }

        // Generate the plan
        function generatePlan() {
            const activities = [
                { time: "Waking up", activity: getActivity("wake"), timeSpent: document.getElementById("time-wake").value, moodBefore: document.getElementById("mood-before-wake").value, moodAfter: document.getElementById("mood-after-wake").value, notes: document.getElementById("notes-wake").value },
                { time: "Mid morning", activity: getActivity("morning"), timeSpent: document.getElementById("time-morning").value, moodBefore: document.getElementById("mood-before-morning").value, moodAfter: document.getElementById("mood-after-morning").value, notes: document.getElementById("notes-morning").value },
                { time: "Before lunch", activity: getActivity("lunch"), timeSpent: document.getElementById("time-lunch").value, moodBefore: document.getElementById("mood-before-lunch").value, moodAfter: document.getElementById("mood-after-lunch").value, notes: document.getElementById("notes-lunch").value },
                { time: "After lunch", activity: getActivity("after-lunch"), timeSpent: document.getElementById("time-after-lunch").value, moodBefore: document.getElementById("mood-before-after-lunch").value, moodAfter: document.getElementById("mood-after-after-lunch").value, notes: document.getElementById("notes-after-lunch").value },
                { time: "Before dinner", activity: getActivity("before-dinner"), timeSpent: document.getElementById("time-before-dinner").value, moodBefore: document.getElementById("mood-before-before-dinner").value, moodAfter: document.getElementById("mood-after-before-dinner").value, notes: document.getElementById("notes-before-dinner").value },
                { time: "After dinner", activity: getActivity("after-dinner"), timeSpent: document.getElementById("time-after-dinner").value, moodBefore: document.getElementById("mood-before-after-dinner").value, moodAfter: document.getElementById("mood-after-after-dinner").value, notes: document.getElementById("notes-after-dinner").value },
                { time: "Before sleep", activity: getActivity("sleep"), timeSpent: document.getElementById("time-sleep").value, moodBefore: document.getElementById("mood-before-sleep").value, moodAfter: document.getElementById("mood-after-sleep").value, notes: document.getElementById("notes-sleep").value },
            ];

            let planContent = `<div class="plan-date">Plan for ${new Date().toLocaleDateString()}</div>`;

            activities.forEach(entry => {
                planContent += `
                    <div class="plan-entry">
                        <h3>${entry.time}</h3>
                        <p>Activity: ${entry.activity} for ${entry.timeSpent} minutes</p>
                        <p class="mood">Mood Before: ${entry.moodBefore}, Mood After: ${entry.moodAfter}</p>
                        <p class="notes">Notes: ${entry.notes || "None"}</p>
                    </div>`;
            });

            document.getElementById('result').innerHTML = planContent;
        }

        // Get selected or custom activity
        function getActivity(timePeriod) {
            const activitySelect = document.getElementById(`activity-${timePeriod}`);
            const customActivityInput = document.getElementById(`custom-activity-${timePeriod}`);
            return activitySelect.value === "Custom" ? customActivityInput.value || "Custom Activity" : activitySelect.value;
        }

        // Show the disclaimer popup when the page loads
        window.onload = function() {
            document.getElementById("disclaimer-popup").style.display = "block";
        };

        // Close the popup when the user clicks the button
        function closePopup() {
            document.getElementById("disclaimer-popup").style.display = "none";
        }

        // Export the generated plan as a text file
        function exportPlan() {
            const planContent = document.getElementById("result").innerText;
            const blob = new Blob([planContent], { type: "text/plain;charset=utf-8" });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.href = url;
            link.download = "sensory_diet_plan.txt";
            link.click();
            URL.revokeObjectURL(url);
        }
    </script>
  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>創建感覺餐單</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }

        .sidebar {
            width: 240px;
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            background-color: #4CAF50;
            padding-top: 20px;
        }

        .sidebar nav a {
            display: block;
            color: white;
            padding: 16px;
            text-decoration: none;
            font-size: 18px;
            text-align: center;
        }

        .sidebar nav a:hover {
            background-color: #45a049;
        }

        .container {
            margin-left: 260px;
            padding: 20px;
        }

        .generated-plan {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: #f9f9f9;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .plan-entry {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 5px;
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .plan-entry h3 {
            font-size: 16px;
            margin-bottom: 5px;
            color: #333;
        }

        .plan-entry p {
            margin: 0;
            color: #555;
            font-size: 14px;
        }

        .plan-entry .mood {
            font-weight: bold;
            color: #4caf50;
        }

        .plan-entry .notes {
            margin-top: 5px;
            font-style: italic;
            color: #777;
        }

        .plan-date {
            font-size: 18px;
            color: #333;
            margin-bottom: 20px;
        }

        .popup {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .popup-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        #close-popup {
            background-color: #4caf50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        #close-popup:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    
    </div>

    <div class="container">
        <h1>感覺餐單生成器</h1>
        <div class="watermark">由郭靖嵐和Alessia Samperi</div>

        <div class="info-section">
            <h2>您的感覺餐單</h2>
            <p>使用感覺餐單生成器為您的孩子創建一個個性化的計劃。</p>
            <table class="sensory-plan-table">
                <thead>
                    <tr>
                        <th>時間</th>
                        <th>活動</th>
                        <th>持續時間（分鐘）</th>
                        <th>活動前孩子的情緒</th>
                        <th>活動後孩子的情緒</th>
                        <th>備註</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 醒來 -->
                    <tr>
                        <td>醒來</td>
                        <td>
                            <select id="activity-wake" onchange="toggleCustomActivity('wake')">
                                <option value="Rolling on Peanut Ball">在花生球上滾動</option>
                                <option value="Swinging">盪鞦韆</option>
                                <option value="Trampoline Jumping">跳蹦床</option>
                                <option value="Custom">自定義...</option>
                            </select>
                            <input type="text" class="custom-activity-input" id="custom-activity-wake" placeholder="輸入自定義活動" style="display:none;">
                        </td>
                        <td>
                            <select id="time-wake">
                                <option value="5">5 分鐘</option>
                                <option value="10">10 分鐘</option>
                                <option value="Custom">自定義...</option>
                            </select>
                            <input type="number" id="custom-time-wake" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                        </td>
                        <td><select id="mood-before-wake"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                        <td><select id="mood-after-wake"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                        <td><input type="text" id="notes-wake" class="notes-input" placeholder="備註"></td>
                    </tr>
                  <!-- 上午中段 -->
                  <tr>
                    <td>上午中段</td>
                    <td>
                        <select id="activity-morning" onchange="toggleCustomActivity('morning')">
                            <option value="Play with Playdough">玩橡皮泥</option>
                            <option value="Finger Painting">手指畫</option>
                            <option value="Sensory Bin with Rice">感覺箱（米）</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-morning" placeholder="輸入自定義活動" style="display:none;">
                    </td>
                    <td>
                        <select id="time-morning">
                            <option value="5">5 分鐘</option>
                            <option value="10">10 分鐘</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="number" id="custom-time-morning" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                    </td>
                    <td><select id="mood-before-morning"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><select id="mood-after-morning"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><input type="text" id="notes-morning" class="notes-input" placeholder="備註"></td>
                </tr>

                <!-- 午餐前 -->
                <tr>
                    <td>午餐前</td>
                    <td>
                        <select id="activity-lunch" onchange="toggleCustomActivity('lunch')">
                            <option value="Obstacle Course">障礙賽</option>
                            <option value="Yoga">瑜伽</option>
                            <option value="Water Play">玩水</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-lunch" placeholder="輸入自定義活動" style="display:none;">
                    </td>
                    <td>
                        <select id="time-lunch">
                            <option value="5">5 分鐘</option>
                            <option value="10">10 分鐘</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="number" id="custom-time-lunch" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                    </td>
                    <td><select id="mood-before-lunch"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><select id="mood-after-lunch"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><input type="text" id="notes-lunch" class="notes-input" placeholder="備註"></td>
                </tr>

                <!-- 午餐後 -->
                <tr>
                    <td>午餐後</td>
                    <td>
                        <select id="activity-after-lunch" onchange="toggleCustomActivity('after-lunch')">
                            <option value="Obstacle Course">障礙賽</option>
                            <option value="Yoga">瑜伽</option>
                            <option value="Water Play">玩水</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-after-lunch" placeholder="輸入自定義活動" style="display:none;">
                    </td>
                    <td>
                        <select id="time-after-lunch">
                            <option value="5">5 分鐘</option>
                            <option value="10">10 分鐘</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="number" id="custom-time-after-lunch" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                    </td>
                    <td><select id="mood-before-after-lunch"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><select id="mood-after-after-lunch"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><input type="text" id="notes-after-lunch" class="notes-input" placeholder="備註"></td>
                </tr>

                <!-- 晚餐前 -->
                <tr>
                    <td>晚餐前</td>
                    <td>
                        <select id="activity-before-dinner" onchange="toggleCustomActivity('before-dinner')">
                            <option value="Obstacle Course">障礙賽</option>
                            <option value="Yoga">瑜伽</option>
                            <option value="Water Play">玩水</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-before-dinner" placeholder="輸入自定義活動" style="display:none;">
                    </td>
                    <td>
                        <select id="time-before-dinner">
                            <option value="5">5 分鐘</option>
                            <option value="10">10 分鐘</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="number" id="custom-time-before-dinner" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                    </td>
                    <td><select id="mood-before-before-dinner"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><select id="mood-after-before-dinner"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><input type="text" id="notes-before-dinner" class="notes-input" placeholder="備註"></td>
                </tr>

                <!-- 晚餐後 -->
                <tr>
                    <td>晚餐後</td>
                    <td>
                        <select id="activity-after-dinner" onchange="toggleCustomActivity('after-dinner')">
                            <option value="Obstacle Course">障礙賽</option>
                            <option value="Yoga">瑜伽</option>
                            <option value="Water Play">玩水</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-after-dinner" placeholder="輸入自定義活動" style="display:none;">
                    </td>
                    <td>
                        <select id="time-after-dinner">
                            <option value="5">5 分鐘</option>
                            <option value="10">10 分鐘</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="number" id="custom-time-after-dinner" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                    </td>
                    <td><select id="mood-before-after-dinner"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><select id="mood-after-after-dinner"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><input type="text" id="notes-after-dinner" class="notes-input" placeholder="備註"></td>
                </tr>

                <!-- 睡前 -->
                <tr>
                    <td>睡前</td>
                    <td>
                        <select id="activity-sleep" onchange="toggleCustomActivity('sleep')">
                            <option value="Obstacle Course">障礙賽</option>
                            <option value="Yoga">瑜伽</option>
                            <option value="Water Play">玩水</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="text" class="custom-activity-input" id="custom-activity-sleep" placeholder="輸入自定義活動" style="display:none;">
                    </td>
                    <td>
                        <select id="time-sleep">
                            <option value="5">5 分鐘</option>
                            <option value="10">10 分鐘</option>
                            <option value="Custom">自定義...</option>
                        </select>
                        <input type="number" id="custom-time-sleep" class="custom-time-input" placeholder="輸入自定義時間（分鐘）" style="display:none;">
                    </td>
                    <td><select id="mood-before-sleep"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><select id="mood-after-sleep"><option value="Positive">正面</option><option value="Calm">冷靜</option><option value="Negative">負面</option></select></td>
                    <td><input type="text" id="notes-sleep" class="notes-input" placeholder="備註"></td>
                </tr>
                </tbody>
            </table>
            <button type="button" onclick="generatePlan()">生成計劃</button>
            <button type="button" onclick="exportPlan()">導出計劃</button>

            <div id="result" class="generated-plan"></div>
        </div>

        
            </div>
        </div>
    </div>

    <script>
        // 處理自定義活動輸入
        function toggleCustomActivity(timePeriod) {
            const activitySelect = document.getElementById(`activity-${timePeriod}`);
            const customActivityInput = document.getElementById(`custom-activity-${timePeriod}`);
            customActivityInput.style.display = activitySelect.value === "Custom" ? "block" : "none";
        }

        // 生成計劃
        function generatePlan() {
            const activities = [
                { time: "醒來", activity: getActivity("wake"), timeSpent: document.getElementById("time-wake").value, moodBefore: document.getElementById("mood-before-wake").value, moodAfter: document.getElementById("mood-after-wake").value, notes: document.getElementById("notes-wake").value },
                { time: "上午中段", activity: getActivity("morning"), timeSpent: document.getElementById("time-morning").value, moodBefore: document.getElementById("mood-before-morning").value, moodAfter: document.getElementById("mood-after-morning").value, notes: document.getElementById("notes-morning").value },
                { time: "午餐前", activity: getActivity("lunch"), timeSpent: document.getElementById("time-lunch").value, moodBefore: document.getElementById("mood-before-lunch").value, moodAfter: document.getElementById("mood-after-lunch").value, notes: document.getElementById("notes-lunch").value },
                { time: "午餐後", activity: getActivity("after-lunch"), timeSpent: document.getElementById("time-after-lunch").value, moodBefore: document.getElementById("mood-before-after-lunch").value, moodAfter: document.getElementById("mood-after-after-lunch").value, notes: document.getElementById("notes-after-lunch").value },
                { time: "晚餐前", activity: getActivity("before-dinner"), timeSpent: document.getElementById("time-before-dinner").value, moodBefore: document.getElementById("mood-before-before-dinner").value, moodAfter: document.getElementById("mood-after-before-dinner").value, notes: document.getElementById("notes-before-dinner").value },
                { time: "晚餐後", activity: getActivity("after-dinner"), timeSpent: document.getElementById("time-after-dinner").value, moodBefore: document.getElementById("mood-before-after-dinner").value, moodAfter: document.getElementById("mood-after-after-dinner").value, notes: document.getElementById("notes-after-dinner").value },
                { time: "睡前", activity: getActivity("sleep"), timeSpent: document.getElementById("time-sleep").value, moodBefore: document.getElementById("mood-before-sleep").value, moodAfter: document.getElementById("mood-after-sleep").value, notes: document.getElementById("notes-sleep").value },
            ];

            let planContent = `<div class="plan-date">計劃日期: ${new Date().toLocaleDateString()}</div>`;

            activities.forEach(entry => {
                planContent += `
                    <div class="plan-entry">
                        <h3>${entry.time}</h3>
                        <p>活動: ${entry.activity}，持續 ${entry.timeSpent} 分鐘</p>
                        <p class="mood">情緒變化: 活動前: ${entry.moodBefore}, 活動後: ${entry.moodAfter}</p>
                        <p class="notes">備註: ${entry.notes || "無"}</p>
                    </div>`;
            });

            document.getElementById('result').innerHTML = planContent;
        }

        // 獲取選定或自定義活動
        function getActivity(timePeriod) {
            const activitySelect = document.getElementById(`activity-${timePeriod}`);
            const customActivityInput = document.getElementById(`custom-activity-${timePeriod}`);
            return activitySelect.value === "Custom" ? customActivityInput.value || "自定義活動" : activitySelect.value;
        }

        // 當頁面加載時顯示免責聲明彈窗
        window.onload = function() {
            document.getElementById("disclaimer-popup").style.display = "block";
        };

        // 用戶點擊按鈕時關閉彈窗
        function closePopup() {
            document.getElementById("disclaimer-popup").style.display = "none";
        }

        // 將生成的計劃導出為文本文件
        function exportPlan() {
            const planContent = document.getElementById("result").innerText;
            const blob = new Blob([planContent], { type: "text/plain;charset=utf-8" });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.href = url;
            link.download = "感覺餐單.txt";
            link.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>

</body>
</html>
